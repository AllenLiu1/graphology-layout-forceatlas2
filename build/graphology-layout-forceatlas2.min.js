!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.forceAtlas2=e():t.forceAtlas2=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e){var o=10,n=3;e.assign=function(t){t=t||{};var e,o,n,a=Array.prototype.slice.call(arguments).slice(1);for(e=0,n=a.length;e<n;e++)if(a[e])for(o in a[e])t[o]=a[e][o];return t},e.validateSettings=function(t){return"linLogMode"in t&&"boolean"!=typeof t.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&"boolean"!=typeof t.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&"boolean"!=typeof t.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&"number"!=typeof t.edgeWeightInfluence&&t.edgeWeightInfluence<0?{message:"the `edgeWeightInfluence` setting should be a number >= 0."}:"scalingRatio"in t&&"number"!=typeof t.scalingRatio&&t.scalingRatio<0?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in t&&"boolean"!=typeof t.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in t&&"number"!=typeof t.gravity&&t.gravity<0?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in t&&"number"!=typeof t.slowDown&&t.slowDown<0?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&"boolean"!=typeof t.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in t&&"number"!=typeof t.barnesHutTheta&&t.barnesHutTheta<0?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},e.graphToByteArrays=function(t){var e,a,r=t.nodes(),i=t.edges(),s=r.length,u=i.length,l={},g=new Float32Array(s*o),f=new Float32Array(u*n);for(e=a=0;e<s;e++)l[r[e]]=a,g[a]=t.getNodeAttribute(r[e],"x"),g[a+1]=t.getNodeAttribute(r[e],"y"),g[a+2]=0,g[a+3]=0,g[a+4]=0,g[a+5]=0,g[a+6]=1+t.degree(r[e]),g[a+7]=1,g[a+8]=t.getNodeAttribute(r[e],"size")||1,g[a+9]=0,a+=o;for(e=a=0;e<u;e++)f[a]=l[t.source(i[e])],f[a+1]=l[t.target(i[e])],f[a+2]=t.getEdgeAttribute(i[e],"weight")||0,a+=n;return{nodes:g,edges:f}},e.applyLayoutChanges=function(t,e){for(var n=t.nodes(),a=0,r=0,i=e.length;a<i;a+=o)t.setNodeAttribute(n[r],"x",e[a]),t.setNodeAttribute(n[r],"y",e[a+1]),r++},e.collectLayoutChanges=function(t,e){for(var n=t.nodes(),a=Object.create(null),r=0,i=0,s=e.length;r<s;r+=o)a[n[i]]={x:e[r],y:e[r+1]},i++;return a}},function(t,e){var o=0,n=1,a=2,r=3,i=4,s=5,u=6,l=7,g=8,f=9,h=0,d=1,b=2,c=3,p=4,y=5,M=6,m=7,w=8,v=10,A=9,D=10;t.exports=function(t,e,x){var j,q,z,H,S,L,O,R,T,W,E,I,N,G,k,C=e.length,B=x.length,F=[];for(z=0;z<C;z+=v)e[z+i]=e[z+a],e[z+s]=e[z+r],e[z+a]=0,e[z+r]=0;if(t.outboundAttractionDistribution){for(T=0,z=0;z<C;z+=v)T+=e[z+u];T/=C}if(t.barnesHutOptimize){var P,_,K=1/0,U=-(1/0),J=1/0,Q=-(1/0);for(z=0;z<C;z+=v)K=Math.min(K,e[z+o]),U=Math.max(U,e[z+o]),J=Math.min(J,e[z+n]),Q=Math.max(Q,e[z+n]);for(F[0+h]=-1,F[0+d]=(K+U)/2,F[0+b]=(J+Q)/2,F[0+c]=Math.max(U-K,Q-J),F[0+p]=-1,F[0+y]=-1,F[0+M]=0,F[0+m]=0,F[0+w]=0,j=1,z=0;z<C;z+=v)for(q=0;;)if(F[q+y]>=0)P=e[z+o]<F[q+d]?e[z+n]<F[q+b]?F[q+y]:F[q+y]+A:e[z+n]<F[q+b]?F[q+y]+2*A:F[q+y]+3*A,F[q+m]=(F[q+m]*F[q+M]+e[z+o]*e[z+u])/(F[q+M]+e[z+u]),F[q+w]=(F[q+w]*F[q+M]+e[z+n]*e[z+u])/(F[q+M]+e[z+u]),F[q+M]+=e[z+u],q=P;else{if(F[q+h]<0){F[q+h]=z;break}if(F[q+y]=j*A,O=F[q+c]/2,R=F[q+y],F[R+h]=-1,F[R+d]=F[q+d]-O,F[R+b]=F[q+b]-O,F[R+c]=O,F[R+p]=R+A,F[R+y]=-1,F[R+M]=0,F[R+m]=0,F[R+w]=0,R+=A,F[R+h]=-1,F[R+d]=F[q+d]-O,F[R+b]=F[q+b]+O,F[R+c]=O,F[R+p]=R+A,F[R+y]=-1,F[R+M]=0,F[R+m]=0,F[R+w]=0,R+=A,F[R+h]=-1,F[R+d]=F[q+d]+O,F[R+b]=F[q+b]-O,F[R+c]=O,F[R+p]=R+A,F[R+y]=-1,F[R+M]=0,F[R+m]=0,F[R+w]=0,R+=A,F[R+h]=-1,F[R+d]=F[q+d]+O,F[R+b]=F[q+b]+O,F[R+c]=O,F[R+p]=F[q+p],F[R+y]=-1,F[R+M]=0,F[R+m]=0,F[R+w]=0,j+=4,P=e[F[q+h]+o]<F[q+d]?e[F[q+h]+n]<F[q+b]?F[q+y]:F[q+y]+A:e[F[q+h]+n]<F[q+b]?F[q+y]+2*A:F[q+y]+3*A,F[q+M]=e[F[q+h]+u],F[q+m]=e[F[q+h]+o],F[q+w]=e[F[q+h]+n],F[P+h]=F[q+h],F[q+h]=-1,_=e[z+o]<F[q+d]?e[z+n]<F[q+b]?F[q+y]:F[q+y]+A:e[z+n]<F[q+b]?F[q+y]+2*A:F[q+y]+3*A,P!==_){F[_+h]=z;break}q=P}}if(t.barnesHutOptimize)for(W=t.scalingRatio,z=0;z<C;z+=v)for(q=0;;)if(F[q+y]>=0){if(G=Math.sqrt(Math.pow(e[z+o]-F[q+m],2)+Math.pow(e[z+n]-F[q+w],2)),2*F[q+c]/G<t.barnesHutTheta){if(E=e[z+o]-F[q+m],I=e[z+n]-F[q+w],t.adjustSizes?G>0?(k=W*e[z+u]*F[q+M]/G/G,e[z+a]+=E*k,e[z+r]+=I*k):G<0&&(k=-W*e[z+u]*F[q+M]/G,e[z+a]+=E*k,e[z+r]+=I*k):G>0&&(k=W*e[z+u]*F[q+M]/G/G,e[z+a]+=E*k,e[z+r]+=I*k),F[q+p]<0)break;q=F[q+p];continue}q=F[q+y]}else{if(F[q+h]>=0&&F[q+h]!==z&&(E=e[z+o]-e[F[q+h]+o],I=e[z+n]-e[F[q+h]+n],G=Math.sqrt(E*E+I*I),t.adjustSizes?G>0?(k=W*e[z+u]*e[F[q+h]+u]/G/G,e[z+a]+=E*k,e[z+r]+=I*k):G<0&&(k=-W*e[z+u]*e[F[q+h]+u]/G,e[z+a]+=E*k,e[z+r]+=I*k):G>0&&(k=W*e[z+u]*e[F[q+h]+u]/G/G,e[z+a]+=E*k,e[z+r]+=I*k)),F[q+p]<0)break;q=F[q+p]}else for(W=t.scalingRatio,H=0;H<C;H+=v)for(S=0;S<H;S+=v)E=e[H+o]-e[S+o],I=e[H+n]-e[S+n],t.adjustSizes?(G=Math.sqrt(E*E+I*I)-e[H+g]-e[S+g],G>0?(k=W*e[H+u]*e[S+u]/G/G,e[H+a]+=E*k,e[H+r]+=I*k,e[S+a]+=E*k,e[S+r]+=I*k):G<0&&(k=100*W*e[H+u]*e[S+u],e[H+a]+=E*k,e[H+r]+=I*k,e[S+a]-=E*k,e[S+r]-=I*k)):(G=Math.sqrt(E*E+I*I))>0&&(k=W*e[H+u]*e[S+u]/G/G,e[H+a]+=E*k,e[H+r]+=I*k,e[S+a]-=E*k,e[S+r]-=I*k);for(R=t.gravity/t.scalingRatio,W=t.scalingRatio,z=0;z<C;z+=v)k=0,E=e[z+o],I=e[z+n],G=Math.sqrt(Math.pow(E,2)+Math.pow(I,2)),t.strongGravityMode?G>0&&(k=W*e[z+u]*R):G>0&&(k=W*e[z+u]*R/G),e[z+a]-=E*k,e[z+r]-=I*k;for(W=1*(t.outboundAttractionDistribution?T:1),L=0;L<B;L+=3)H=x[L+0],S=x[L+1],O=x[L+2],N=Math.pow(O,t.edgeWeightInfluence),E=e[H+o]-e[S+o],I=e[H+n]-e[S+n],t.adjustSizes?(G=Math.sqrt(Math.pow(E,2)+Math.pow(I,2)-e[H+g]-e[S+g]),t.linLogMode?t.outboundAttractionDistribution?G>0&&(k=-W*N*Math.log(1+G)/G/e[H+u]):G>0&&(k=-W*N*Math.log(1+G)/G):t.outboundAttractionDistribution?G>0&&(k=-W*N/e[H+u]):G>0&&(k=-W*N)):(G=Math.sqrt(Math.pow(E,2)+Math.pow(I,2)),t.linLogMode?t.outboundAttractionDistribution?G>0&&(k=-W*N*Math.log(1+G)/G/e[H+u]):G>0&&(k=-W*N*Math.log(1+G)/G):t.outboundAttractionDistribution?(G=1,k=-W*N/e[H+u]):(G=1,k=-W*N)),G>0&&(e[H+a]+=E*k,e[H+r]+=I*k,e[S+a]-=E*k,e[S+r]-=I*k);var V,X,Y,Z;if(t.adjustSizes)for(z=0;z<C;z+=v)e[z+f]||(V=Math.sqrt(Math.pow(e[z+a],2)+Math.pow(e[z+r],2)),V>D&&(e[z+a]=e[z+a]*D/V,e[z+r]=e[z+r]*D/V),X=e[z+u]*Math.sqrt((e[z+i]-e[z+a])*(e[z+i]-e[z+a])+(e[z+s]-e[z+r])*(e[z+s]-e[z+r])),Y=Math.sqrt((e[z+i]+e[z+a])*(e[z+i]+e[z+a])+(e[z+s]+e[z+r])*(e[z+s]+e[z+r]))/2,Z=.1*Math.log(1+Y)/(1+Math.sqrt(X)),e[z+o]=e[z+o]+e[z+a]*(Z/t.slowDown),e[z+n]=e[z+n]+e[z+r]*(Z/t.slowDown));else for(z=0;z<C;z+=v)e[z+f]||(X=e[z+u]*Math.sqrt((e[z+i]-e[z+a])*(e[z+i]-e[z+a])+(e[z+s]-e[z+r])*(e[z+s]-e[z+r])),Y=Math.sqrt((e[z+i]+e[z+a])*(e[z+i]+e[z+a])+(e[z+s]+e[z+r])*(e[z+s]+e[z+r]))/2,Z=e[z+l]*Math.log(1+Y)/(1+Math.sqrt(X)),e[z+l]=Math.min(1,Math.sqrt(Z*(Math.pow(e[z+a],2)+Math.pow(e[z+r],2))/(1+Math.sqrt(X)))),e[z+o]=e[z+o]+e[z+a]*(Z/t.slowDown),e[z+n]=e[z+n]+e[z+r]*(Z/t.slowDown));return{}}},function(t,e){t.exports=function(t){return!!t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNodes&&"boolean"==typeof t.multi}},function(t,e,o){function n(t,e,o){if(!a(e))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");"number"==typeof o&&(o={iterations:o});var n=o.iterations;if("number"!=typeof n)throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(n<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var u=i.assign({},s,o.settings),l=i.validateSettings(u);if(l)throw new Error("graphology-layout-forceatlas2: "+l.message);var g,f=i.graphToByteArrays(e);for(g=0;g<n;g++)r(u,f.nodes,f.edges);return t?void i.applyLayoutChanges(e,f.nodes):i.collectLayoutChanges(e,f.nodes)}var a=o(2),r=o(1),i=o(0),s={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5},u=n.bind(null,!1);u.assign=n.bind(null,!0),t.exports=u}])});